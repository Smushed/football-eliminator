{"version":3,"sources":["constants/routes.js","componenets/Firebase/context.js","componenets/Firebase/firebase.js","componenets/Firebase/index.js","componenets/Session/withAuthorization.js","componenets/PasswordReset.js","componenets/WelcomeMessage.js","componenets/SignIn.js","componenets/SignUp.js","componenets/SignOutButton.js","componenets/Home/Leaderboard.js","componenets/Home/index.js","componenets/NavBar.js","componenets/PasswordChange.js","componenets/UserProfile.js","componenets/CreateGroup.js","componenets/UserSearch.js","componenets/GroupPage/UserList.js","componenets/GroupPage/GroupNav.js","componenets/GroupPage/index.js","componenets/DisplayPlayers.js","componenets/Roster/Player.js","componenets/Roster/Column.js","componenets/Roster/index.js","componenets/AdminPanel/PlayerEditor.js","componenets/AdminPanel/UserEditor.js","componenets/AdminPanel/index.js","componenets/AdminPanel/UpgradeToAdmin.js","App.js","index.js"],"names":["home","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","require","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","app","currentUser","updatePassword","initializeApp","this","withAuthorization","condition","WithAuthorization","listener","onAuthStateChanged","authUser","history","push","compose","withRouter","inputStyle","width","height","initialState","error","PasswordResetFormBase","onSubmit","event","state","then","setState","Routes","catch","preventDefault","onChange","target","name","value","isInvalid","className","message","style","type","placeholder","disabled","PasswordResetLink","Link","to","Button","color","PasswordResetForm","about","fontSize","textAlign","WelcomeMessage","labelStyle","marginBottom","formStyle","display","marginLeft","marginRight","SignInFormBase","handleChange","handleSubmit","a","Form","FormGroup","Label","Input","size","SignInForm","SignInLink","SignInPage","Row","Col","xs","form","labelDescription","username","confirmPassword","redirectTo","emailValid","passwordValid","usernameValid","validMessage","SignUpFormBase","checkValidInput","firstname","lastname","axios","post","status","console","log","validateForm","invalidInputs","invalidMessages","fieldName","validCheck","match","checkPassword","length","noSpacesInPassword","checkUsername","usernameLength","passwordOne","passwordTwo","map","i","key","id","SignUpForm","SignUpLink","SignUpPage","textStyle","textDecoration","onClick","Alert","withReactContent","Swal","Leaderboard","getDataForLeaderboard","week","season","loading","userList","all","getAllUsers","getAllRosters","spread","allUsers","rosterData","data","userDetail","userId","_id","previousWeekPlayers","ii","roster","get","params","userRoster","weekScores","totalScore","iii","parseFloat","toFixed","redirect","redirectValue","prevProps","columns","Header","accessor","show","defaultSorted","desc","defaultPageSize","getTdProps","rowInfo","fire","title","original","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","Home","isAdmin","Container","fluid","sm","md","HomeLink","testStyle","background","backgroundColor","overflow","padding2","navLinkStyle","NavBar","Navbar","expand","Nav","navbar","NavItem","NavLink","href","initalState","passwordConfirm","PasswordChangeForm","htmlFor","buttonStyle","centerText","updateProfileStyle","header","marginTop","profileDisplayStyle","initialUpdateState","initialProfileState","dbUsername","dbEmail","dbFirstname","dbLastname","isCurrentUser","UserProfile","checkCurrentUser","userIDFromURL","userID","updatedProfile","getUserData","dbResponse","local","PasswordChange","UpdateInformationForm","fieldSubmitted","request","put","usernameIsInvalid","emailIsInvalid","firstnameIsInvalid","lastnameIsInvalid","groupName","groupDescription","margin","inputSize","headerStyle","descriptionStyle","CreateGroup","currentUserID","text","for","formlabelStyle","forminputsize","UserSearch","userSearch","searchSelect","userArray","user","groupID","updatePage","SingleUser","addUserToGroup","componentDidMount","UserList","userlist","ButtonStyle","adminPanel","border","padding","borderRadius","GroupNav","align","outline","showMainPage","addUser","groupinfopanel","columnbackground","GroupPage","getGroupData","description","checkAdmin","filter","showPage","updateBook","groupIDFromURL","GroupInfo","DisplayPlayers","playersArray","playerPopUp","playerStats","full_name","currentPlayer","filterable","styled","div","isDragging","Player","draggableId","player","mySportsId","index","provided","snapshot","draggableProps","dragHandleProps","ref","innerRef","PlayerList","children","droppableProps","transition","isDraggingOver","flexGrow","Column","column","droppableId","Roster","clearPlayers","playerIds","available","getRosterData","weekOnPage","seasonOnPage","res","playerArray","doneLoading","err","response","countRoster","originalRoster","QBCount","RBCount","WRCount","TECount","KCount","position","tooManyPlayers","count","filteredRoster","fullPlayers","input","inputPlaceholder","inputOptions","chosenPlayer","playerIndex","indexOf","parseInt","splice","positionSelect","unshift","checkRoster","sortRoster","saveRosterToDb","dbReadyRoster","undefined","sortedRoster","QB","RB1","RB2","Flex","WR1","WR2","TE","K","sortedNoDummyData","droppedPlayer","saveWithNoDrop","weekSelect","seasonSelect","checkLockPeriod","lockWeek","lockYear","onDragEnd","destination","source","start","finish","newPlayerIds","Array","from","newColumn","newState","startNewPlayerIds","newStart","finishPlayerIds","newFinish","needToSave","positionSearch","e","searchedPosition","idArray","currentRoster","customSeasonWeekSearch","bind","columnOrder","imageUrl","imageWidth","imageHeight","imageAlt","showConfirmButton","close","columnId","playerId","PlayerEditor","updateNFLRoster","getMassData","getWeeklyData","UserEditor","dummyRoster","selectedUser","selectUser","SelectedUser","UserTable","AdminPanel","showPlayerEditor","playerEditor","userEditor","showUserEditor","UpgradeToAdmin","upgradeToAdmin","serverResponse","App","isSignedIn","getSeasonAndWeek","seasonAndWeek","currentSeason","currentWeek","BrowserRouter","Route","exact","path","render","SignIn","SignUp","PasswordReset","ReactDOM","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.19501a47.chunk.js","sourcesContent":["export const home = '/';\nexport const signup = '/signup';\nexport const signin = '/signin';\nexport const userProfile = '/userprofile';\nexport const passwordReset = '/passwordreset';\nexport const passwordChange = '/passwordchange';\nexport const createGroup = '/creategroup';\nexport const discussion = '/discussion';\nexport const roster = '/roster/:userId';\nexport const adminPanel = '/adminPanel/';\n\n\n//These are hidden routes. Ones that have no link but anyone can go to them if they'd like\nexport const upgradeToAdmin = '/upgradeToAdmin/';","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n    <FirebaseContext.Consumer>\n        {firebase => <Component {...props} firebase={firebase} />}\n    </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;","import app from 'firebase/app';\nimport 'firebase/auth';\nrequire(`dotenv`).config();\n\nconst config = {\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n    constructor() {\n        app.initializeApp(config);\n\n        this.auth = app.auth();\n    }\n\n    doCreateUserWithEmailAndPassword = (email, password) => {\n        return this.auth.createUserWithEmailAndPassword(email, password);\n    };\n\n    doSignInWithEmailAndPassword = (email, password) => {\n        return this.auth.signInWithEmailAndPassword(email, password);\n    };\n\n    doSignOut = () => this.auth.signOut();\n\n    doPasswordReset = email => { return this.auth.sendPasswordResetEmail(email) };\n\n    doPasswordUpdate = password => {\n        const user = app.auth().currentUser;\n        return user.updatePassword(password);\n    };\n};\n\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\n\nexport { FirebaseContext, withFirebase };","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\nimport * as Routes from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n    class WithAuthorization extends React.Component {\n        componentDidMount() {\n            this.listener = this.props.firebase.auth.onAuthStateChanged(\n                authUser => {\n                    if (!condition(authUser)) {\n                        this.props.history.push(Routes.signin);\n                    }\n                }\n            );\n        };\n\n        componentWillUnmount() {\n            this.listener();\n        };\n\n        render() {\n            return (\n                <Component {...this.props} />\n            );\n        };\n    };\n\n    return compose(withRouter, withFirebase)(WithAuthorization);\n};\n\nexport default withAuthorization;","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from './Firebase';\nimport * as Routes from '../constants/routes';\nimport { withAuthorization } from './Session';\nimport { Button } from 'reactstrap';\n\nconst inputStyle = {\n    width: '50%',\n    height: '40px'\n}\n\nconst PasswordResetPage = () => (\n    <div>\n        {/* TODO This totally doesn't work */}\n        <h3>Password Reset</h3>\n        <br />\n        <PasswordResetForm />\n    </div>\n);\n\nconst initialState = {\n    email: '',\n    error: null,\n};\n\nclass PasswordResetFormBase extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...initialState };\n    }\n\n    onSubmit = event => {\n        const { email } = this.state;\n\n        this.props.firebase\n            .doPasswordReset(email)\n            .then(() => {\n                this.setState({ ...initialState });\n                this.props.history.push(Routes.home);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n\n        event.preventDefault();\n    };\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    render() {\n        const { email, error } = this.state;\n\n        const isInvalid = email === '';\n\n        return (\n            <form className='form-horizontal'\n                onSubmit={this.onSubmit}>\n                {error && <p>{error.message}</p>}\n                <div className='form-group'>\n                    <input\n                        className='form-input'\n                        style={inputStyle}\n                        name='email'\n                        value={this.state.email}\n                        onChange={this.onChange}\n                        type='text'\n                        placeholder='Email Address'\n                    />\n                </div>\n                <div className=\"form-group \">\n                    <div className=\"col-7\"></div>\n                    <button\n                        className=\"btn btn-primary col-1 col-mr-auto\"\n                        disabled={isInvalid}\n                        type=\"submit\">Reset Password</button>\n                </div>\n\n            </form>\n        );\n    }\n}\n\nconst PasswordResetLink = () => (\n    <Link to={Routes.passwordReset}><Button color='success'>Forgot Password?</Button></Link>\n);\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(PasswordResetPage);\n\nconst PasswordResetForm = compose(withRouter, withFirebase)(PasswordResetFormBase);\n\nexport { PasswordResetForm, PasswordResetLink };","import React from 'react'\n\nconst about = {\n    fontSize: '17px',\n    textAlign: 'center',\n};\n\nconst WelcomeMessage = (props) => {\n    return (\n        <p style={about}>\n            TODO\n        </p>\n    )\n};\n\nexport default WelcomeMessage;","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { SignUpLink } from './SignUp';\nimport { PasswordResetLink } from './PasswordReset'\nimport { withFirebase } from './Firebase';\nimport * as Routes from '../constants/routes';\nimport { Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport WelcomeMessage from './WelcomeMessage';\n\nconst inputStyle = {\n    width: '75%',\n    height: '40px',\n    fontSize: '16px'\n};\n\nconst labelStyle = {\n    marginBottom: '0px',\n};\n\nconst formStyle = {\n    display: 'block',\n    marginLeft: '30px',\n    marginRight: 'auto',\n    fontSize: '20px'\n};\n\nconst initialState = {\n    email: '',\n    password: '',\n    error: null\n};\n\nconst SignInPage = () => (\n    <div style={formStyle}>\n        <Row>\n            <Col xs='1' />\n            <Col xs='5'>\n                <WelcomeMessage />\n            </Col>\n            <Col xs='5'>\n                <br />\n                <h3>Sign In</h3>\n                <SignInForm />\n                <SignUpLink />\n            </Col>\n            <Col xs='1' />\n        </Row>\n    </div>\n);\n\n\nclass SignInFormBase extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { ...initialState };\n    }\n\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n\n        const { email, password } = this.state;\n\n        this.props.firebase\n            .doSignInWithEmailAndPassword(email, password)\n            .then(async () => {\n                this.setState({ ...initialState });\n                this.props.history.push(Routes.home);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n    }\n\n    render() {\n        const { email, password, error } = this.state;\n\n        const isInvalid = password === '' || email === '';\n\n        return (\n            <div >\n                <br />\n                {/* If there's an error with sign in then display the error */}\n                {error && <p>{error.message}</p>}\n\n                <Form onSubmit={this.handleSubmit}>\n                    <FormGroup>\n                        <Label style={labelStyle} >\n                            Email:\n                        </Label>\n                        <Input\n                            style={inputStyle}\n                            type='text'\n                            name='email'\n                            placeholder='email'\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <Label style={labelStyle}>\n                            Password:\n                        </Label>\n                        <Input\n                            style={inputStyle}\n                            placeholder='password'\n                            type='password'\n                            name='password'\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <Button\n                            color='primary'\n                            size='lg'\n                            disabled={isInvalid}\n                            type='submit'>\n                            Sign In\n                        </Button>\n                    </FormGroup>\n                </Form>\n                <PasswordResetLink />\n            </div >\n        );\n    };\n};\n\nconst SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\n\nconst SignInLink = () => (\n    <p style={{ fontSize: '16px' }}>\n        Already have an account?\n        <Link to={Routes.signin}>\n            <Button color='success'>\n                Sign In\n            </Button>\n        </Link>\n    </p>\n);\n\nexport default SignInPage;\n\nexport { SignInForm, SignInLink };","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from './Firebase';\nimport { compose } from 'recompose';\nimport axios from 'axios';\nimport { Row, Col, Button, Form, FormGroup, Label, Input } from 'reactstrap';\n\nimport * as Routes from '../constants/routes';\nimport { SignInLink } from './SignIn';\nimport WelcomeMessage from './WelcomeMessage';\n\nconst inputStyle = {\n    width: '50%',\n    height: '40px',\n    fontSize: '16px'\n};\n\nconst labelStyle = {\n    marginBottom: '0px',\n    fontSize: '18px'\n};\n\nconst form = {\n    display: 'block',\n    marginLeft: '50px',\n    marginRight: 'auto',\n};\n\nconst labelDescription = {\n    fontSize: '14px'\n};\n\nconst initialState = {\n    username: '',\n    password: '',\n    confirmPassword: '',\n    email: '',\n    redirectTo: null,\n    error: null,\n    emailValid: false,\n    passwordValid: false,\n    usernameValid: false,\n    validMessage: []\n}\n\nconst SignUpPage = () => (\n    < div style={form} >\n        <Row>\n            <Col xs='1' />\n            <Col xs='5'>\n                <WelcomeMessage />\n            </Col>\n            <Col xs='5'>\n                <br />\n                <h3>SignUp</h3>\n                <SignUpForm />\n                <SignInLink />\n\n            </Col>\n            <Col xs='1' />\n        </Row>\n    </div>\n);\n\n\nclass SignUpFormBase extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...initialState };\n    }\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        //Checks if all the input fields are valid\n        //If not the validation messages are shown and no user is sent to sign up\n        if (this.checkValidInput()) {\n            const { username, email, password, firstname, lastname } = this.state;\n\n            const dbResponse = await axios.post(`/api/newuser`, { username, email, firstname, lastname });\n\n            if (dbResponse.status === 200) {\n                return this.props.firebase\n                    .doCreateUserWithEmailAndPassword(email, password)\n                    .then(authUser => {\n                        //The User has been successfully authenticated, clear this component state and redirect them to the home page\n                        this.setState({ ...initialState });\n                        this.props.history.push(Routes.home);\n                    })\n                    .catch(error => {\n                        console.log(error)\n                        this.setState({ error });\n                    });\n            };\n        };\n    };\n\n    handleChange = event => {\n        //Breaking this out due to the input validation\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({ [event.target.name]: event.target.value },\n            () => this.validateForm(name, value));\n\n    };\n\n    checkValidInput = () => {\n        let invalidInputs = 0;\n        let invalidMessages = [];\n        if (!this.state.emailValid) {\n            invalidInputs++;\n            invalidMessages.push(`Email entered is invalid`);\n        };\n        if (!this.state.usernameValid) {\n            invalidInputs++;\n            invalidMessages.push(`Please ensure username is at least 3 characters, no more than 16 and only contains letters, numbers, underscores and dashes`);\n        };\n        if (!this.state.passwordValid) {\n            invalidInputs++;\n            invalidMessages.push(`Password must be at least 6 characters in length and contain no spaces`)\n        };\n        if (invalidInputs > 0) {\n            this.setState({ validMessage: invalidMessages });\n            return false;\n        } else {\n            return true;\n        };\n    };\n\n    validateForm = (fieldName, value) => {\n        let validCheck;\n\n        switch (fieldName) {\n            case `email`:\n                let checkEmail = value.match(/^(([^<>()\\]\\\\.,;:\\s@']+(\\.[^<>()\\]\\\\.,;:\\s@']+)*)|('.+'))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n                validCheck = checkEmail ? true : false;\n                this.setState({ emailValid: validCheck });\n                break;\n            case `password`:\n                let checkPassword = value.length >= 6;\n                let noSpacesInPassword = value.match(/^\\S*$/);\n                validCheck = checkPassword && noSpacesInPassword ? true : false;\n                this.setState({ passwordValid: validCheck });\n                break;\n            case `username`:\n                let checkUsername = value.match(/^([a-z0-9-_])+$/i);\n                let usernameLength = value.length >= 3 && value.length <= 16;\n                validCheck = checkUsername && usernameLength ? true : false;\n                this.setState({ usernameValid: validCheck });\n                break;\n            default:\n                break;\n        };\n    };\n\n    render() {\n        const { username, email, passwordOne, passwordTwo, error, validMessage } = this.state;\n\n        const isInvalid =\n            passwordOne !== passwordTwo ||\n            passwordOne === '' ||\n            email === '' ||\n            username.length < 3 ||\n            passwordOne < 6;\n\n        return (\n            <div className='SignupForm'>\n                <br />\n                {/* If there's an error with signup then display the error */}\n                {error && <p>{error.message}</p>}\n\n                {/* This is for checking if any of the inputs were invalid */}\n                {validMessage && validMessage.map((message, i) => <p key={i}>{message}</p>)}\n\n                <Form onSubmit={this.handleSubmit}>\n                    <FormGroup>\n                        <Label style={labelStyle}>\n                            Email\n                        </Label>\n                        <Input\n                            style={inputStyle}\n                            type='text'\n                            id='email'\n                            name='email'\n                            placeholder='ex. janedoe@email.com'\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Label style={labelStyle}>\n                            Username\n                            <br />\n                        </Label>\n                        <div style={labelDescription}>\n                            <strong>\n                                (Must be between 3 & 16 characters, no special characters & no spaces)\n                            </strong>\n                        </div>\n                        <Input\n                            style={inputStyle}\n                            placeholder='ex. JaneDoe14'\n                            type='username'\n                            name='username'\n                            value={this.state.username}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Label style={labelStyle}>\n                            Password\n                                <br />\n                        </Label>\n                        <div style={labelDescription}>\n                            <strong>\n                                (Must be at least 6 characters with no spaces)\n                            </strong>\n                        </div>\n                        <Input\n                            style={inputStyle}\n                            placeholder='Password'\n                            type='password'\n                            name='password'\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Label style={labelStyle}>\n                            Confirm Password\n                        </Label>\n                        <Input\n                            style={inputStyle}\n                            placeholder='Confirm Password'\n                            type='password'\n                            name='confirmPassword'\n                            value={this.state.confirmPassword}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Button\n                            color='primary'\n                            size='lg'\n                            disabled={isInvalid}\n                            type='submit'>\n                            Sign Up\n                        </Button>\n                    </FormGroup>\n                </Form>\n            </div >\n        )\n    };\n}\n\nconst SignUpForm = compose(withRouter, withFirebase)(SignUpFormBase);\n\n\nconst SignUpLink = () => (\n    <p style={{ fontSize: '16px' }}>\n        Don't have an account?\n        <Link to={Routes.signup}>\n            <Button color='success'>\n                Sign Up\n            </Button>\n        </Link>\n    </p>\n);\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };","import React from 'react';\nimport { Button } from 'reactstrap';\nimport { withFirebase } from './Firebase';\n\nconst textStyle = {\n  fontSize: '25px',\n  color: 'white',\n  textDecoration: 'none',\n}\n\nconst SignOutButton = ({ firebase }) => (\n  <Button style={textStyle} color='link' onClick={firebase.doSignOut}>\n    Sign Out\n  </Button>\n);\n\nexport default withFirebase(SignOutButton);","import React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { withRouter } from 'react-router-dom';\n\nconst Alert = withReactContent(Swal);\n\nclass Leaderboard extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            userList: [],\n            loading: false,\n        };\n    };\n\n    componentDidMount() {\n        if (typeof this.props.season !== `undefined` && this.props.season !== false) { // season here because it's the last prop we pass in. Probably not the best way\n            this.getDataForLeaderboard(this.props.week, this.props.season);\n        };\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.season !== prevProps.season) { // season here because it's the last prop we pass in. Probably not the best way\n            this.getDataForLeaderboard(this.props.week, this.props.season);\n        };\n    };\n\n    componentWillUnmount() {\n        //TODO Fix this when the user gets off the homepage before it loads, there is a memory leak because the leaderboard data still comes in\n        //https://codepen.io/dashtinejad/pen/Lxejpq\n    }\n\n    //Must break out these requests into individual functions so axios can do them async\n    getAllUsers() {\n        return axios.get(`/api/getAllUsers`);\n    };\n\n    getAllRosters(season) {\n        if (season === ``) {\n            return\n        }\n        return axios.get(`/api/getAllRosters/${season}`);\n    };\n\n    getDataForLeaderboard = (week, season) => {\n        this.setState({ loading: true });\n        let userList = [];\n        axios.all([this.getAllUsers(), this.getAllRosters(season)])\n            .then(axios.spread(async (allUsers, rosterData) => {\n                //Now that we have the userList and all the user's rosters\n                for (let i = 0; i < allUsers.data.length; i++) {\n                    //userDetail is going to be each element in the array\n                    const userDetail = { userId: allUsers.data[i]._id, username: allUsers.data[i].username, email: allUsers.data[i].email };\n                    // Here we count down from the week we are currently on to grab all the players that the user has used\n                    const previousWeekPlayers = {};\n                    for (let ii = week; ii > 0; ii--) {\n                        //For this we drill into the object of roster data that was returned from the DB.\n                        //We look up this user's roster through their id which is a key\n                        previousWeekPlayers[ii] = rosterData.data[allUsers.data[i]._id].roster[ii];\n                    };\n\n                    //We then take the roster that we populated above and send it to the DB\n                    const weekScores = await axios.get(`/api/weeklyRosterScore`,\n                        { params: { userRoster: previousWeekPlayers, week, season } });\n\n                    let totalScore = 0;\n                    for (let iii = week; iii > 0; iii--) {\n                        //Now iterate over the weeks and pull out the total score\n                        totalScore += parseFloat(weekScores.data[iii]); //Must be Float because there are decimals in the scores\n                    };\n                    userDetail.weekScores = weekScores.data;\n                    userDetail.totalScore = totalScore.toFixed(2);\n\n                    userList.push(userDetail);\n                };\n                this.setState({ userList, loading: false });\n            }));\n    };\n\n    redirect = (userId) => {\n        const redirectValue = '/roster/' + userId;\n\n        this.props.history.push(redirectValue);\n    }\n\n    render() {\n        const columns = [\n            { Header: `Username`, accessor: `username`, show: true },\n            { Header: `email`, accessor: `email`, show: true },\n            { Header: `Last Week's Score`, accessor: `weekScores[${this.props.week}]`, show: true },\n            { Header: `Total Score`, accessor: `totalScore`, show: true }];\n\n        const defaultSorted = [{ id: 'totalScore', desc: true }];\n        return (\n            <div>\n                <ReactTable\n                    data={this.state.userList}\n                    columns={columns}\n                    defaultSorted={defaultSorted}\n                    loading={this.state.loading}\n                    defaultPageSize={20}\n                    className=\"-highlight\"\n\n                    //TODO Enable an on click to have a pop up to view their weekly stats\n                    getTdProps={(state, rowInfo) => {\n                        return {\n                            onClick: () => {\n                                Alert.fire({\n                                    title: rowInfo.original.username,\n                                    showCancelButton: true,\n                                    confirmButtonColor: '#228B22',\n                                    cancelButtonColor: '#A9A9A9',\n                                    confirmButtonText: 'Go to their page'\n                                }).then(result => {\n                                    if (result.value) {\n                                        this.redirect(rowInfo.original.userId)\n                                        // const redirectValue = '/roster/' + rowInfo.original.userId;\n                                        // console.log(redirectValue)\n                                        // return <Redirect to={redirectValue} />\n                                    };\n                                });\n                            }\n                        };\n                    }}\n                /></div>\n        )\n    };\n};\n\nexport default withRouter(Leaderboard);\n","import React, { Component, Fragment } from 'react';\nimport { withAuthorization } from '../Session';\nimport { Link } from 'react-router-dom';\nimport { Button, Container, Row, Col } from 'reactstrap';\nimport * as Routes from '../../constants/routes';\n\nimport Leaderboard from './Leaderboard';\nimport './homeStyle.css';\n\n//Stateful component to allow the grouplist to properly populate\nclass Home extends Component {\n\n    render() {\n        const { isAdmin } = this.props;\n        return (\n            <Container fluid={true}>\n                <Row>\n                    <Col sm='12' md='3'>\n                        <div className='centerText topMargin'>\n                            {isAdmin &&\n                                <Fragment>\n                                    <Link to={Routes.adminPanel}>\n                                        Go To Admin Panel\n                                </Link>\n                                    <br />\n                                </Fragment>\n                            }\n                            <Link to={`/roster/${this.props.userId}`}>\n                                <Button color='primary' className='topMargin'>\n                                    My Roster\n                                </Button>\n                            </Link>\n                            <br />\n                            {/*  \n                        <Link to={`/displayplayers`}>\n                        Display Player Data\n                        </Link>\n                    <br /> */}\n                        </div>\n                    </Col>\n                    <Col sm='12' md='9'>\n                        <Leaderboard week={this.props.week} season={this.props.season} />\n                    </Col>\n                </Row>\n            </Container>\n        );\n    };\n};\n\nconst HomeLink = (props) => (\n    <Link to={Routes.home}>\n        <div style={props.testStyle}>\n            Home\n        </div>\n    </Link>\n);\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Home);\nexport { HomeLink };","import React from 'react';\nimport '../App.css';\n\nimport * as Routes from '../constants/routes';\nimport SignOutButton from './SignOutButton';\nimport { HomeLink } from './Home';\n\nimport { Nav, Navbar, NavItem, NavLink } from 'reactstrap';\nimport { Row, Col } from 'reactstrap';\n\n\nconst background = {\n    backgroundColor: '#003366',\n    width: 'auto',\n    height: '100%',\n    overflow: 'hidden',\n};\n\nconst padding2 = {\n    textAlign: 'left',\n};\n\nconst navLinkStyle = {\n    fontSize: '25px',\n    color: 'white',\n    textDecoration: 'none',\n};\n\nconst textStyle = {\n    fontSize: '25px',\n    color: 'white',\n    textDecoration: 'none',\n};\n\nconst NavBar = (props) => {\n    return (\n        <div>\n            <header style={background}>\n                <div>\n                    <Row>\n                        <Col>\n                            <Navbar expand=\"md\">\n                                {props.authUser ? (<section>\n                                    <Nav navbar>\n                                        <NavItem >\n                                            <HomeLink testStyle={textStyle} />\n                                        </NavItem>\n                                        <NavItem >\n                                        </NavItem>\n                                        <NavItem>\n                                            <SignOutButton />\n                                        </NavItem>\n                                    </Nav>\n                                </section>\n                                ) : (\n                                        <section>\n                                            <Nav >\n                                                <NavItem >\n                                                    <HomeLink />\n                                                </NavItem>\n                                                <div style={padding2}>\n                                                    <NavItem>\n                                                        <NavLink style={navLinkStyle} href={Routes.signin}>Sign In </NavLink>\n                                                    </NavItem>\n                                                </div>\n                                                <NavItem>\n                                                    <NavLink style={navLinkStyle} href={Routes.signup}>Sign Up</NavLink>\n                                                </NavItem>\n                                            </Nav>\n                                        </section>\n                                    )\n                                }\n                            </Navbar>\n                        </Col>\n                    </Row>\n                </div>\n            </header>\n        </div >\n\n    )\n}\n\n\nexport default NavBar;","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { withAuthorization } from './Session';\n\nimport { withFirebase } from './Firebase';\nimport * as Routes from '../constants/routes';\nimport { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\n\nconst inputStyle = {\n    width: '35%',\n    height: '40px',\n    marginLeft: 'auto',\n    marginRight: 'auto'\n};\n\nconst labelStyle = {\n    marginBottom: '0px',\n    fontSize: '20px'\n};\n\nconst initalState = {\n    password: '',\n    passwordConfirm: '',\n    error: null,\n    passwordValid: false,\n    validMessage: []\n};\n\nclass PasswordChangeForm extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...initalState };\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n\n        //Checks if the password they inputted is correct. If it isn't it will not submit\n        if (this.checkValidInput()) {\n            const { password } = this.state;\n\n            this.props.firebase\n                .doPasswordUpdate(password)\n                .then(() => {\n                    this.setState({ ...initalState });\n                    this.props.history.push(Routes.home);\n                })\n                .catch(error => {\n                    this.setState({ error });\n                });\n        }\n    };\n\n    handleChange = event => {\n        //Breaking this out due to the input validation\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({ [event.target.name]: event.target.value },\n            () => this.validateForm(name, value));\n    };\n\n    checkValidInput = () => {\n        let invalidInputs = 0;\n        let invalidMessages = [];\n        if (!this.state.passwordValid) {\n            invalidInputs++;\n            invalidMessages.push(`Password must be at least 6 characters in length and contain no spaces`)\n        };\n        if (invalidInputs > 0) {\n            this.setState({ validMessage: invalidMessages });\n            return false;\n        } else {\n            return true;\n        };\n    }\n\n    //Field name to keep validation consistant, but there's only password here\n    validateForm = (fieldName, value) => {\n        let validCheck;\n        let checkPassword = value.length >= 6;\n        let noSpacesInPassword = value.match(/^\\S*$/);\n        validCheck = checkPassword && noSpacesInPassword ? true : false;\n        this.setState({ passwordValid: validCheck });\n    }\n\n    render() {\n        const { password, passwordConfirm, error, validMessage } = this.state;\n\n        const isInvalid =\n            password !== passwordConfirm || password === '';\n\n        return (\n            <div>\n                <h3>Update Password:</h3>\n                <br />\n                {validMessage && validMessage.map((message, i) => <p key={i}>{message}</p>)}\n                <Form onSubmit={this.handleSubmit}>\n                    {error && <p>{error.message}</p>}\n                    <Label style={labelStyle} htmlFor='password'>New Password:</Label>\n                    <FormGroup>\n                        <Input\n                            style={inputStyle}\n                            name='password'\n                            value={password}\n                            onChange={this.handleChange}\n                            type='password'\n                            placeholder='New Password'\n                        />\n                    </FormGroup>\n\n                    <Label style={labelStyle} htmlFor='passwordConfirm'>Confirm Password:</Label>\n                    <FormGroup>\n                        <Input\n                            style={inputStyle}\n                            name='passwordConfirm'\n                            value={passwordConfirm}\n                            onChange={this.handleChange}\n                            type='password'\n                            placeholder='Confirm New Password'\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <Button\n                            color='primary'\n                            disabled={isInvalid}\n                            type='submit'>\n                            Update Password\n                            </Button>\n                    </FormGroup>\n\n                </Form>\n            </div>\n        );\n    }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(compose(withRouter, withFirebase)(PasswordChangeForm));","import React, { Component, Fragment } from 'react';\nimport { withAuthorization } from './Session';\nimport PasswordChangeForm from './PasswordChange';\nimport axios from 'axios';\nimport { Button, Label, Input, } from \"reactstrap\";\n\nconst inputStyle = {\n    width: '35%',\n    height: '40px',\n    fontSize: '16px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: '10px'\n};\n\nconst labelStyle = {\n    marginBottom: '0px'\n};\n\nconst buttonStyle = {\n    marginBottom: '25px'\n};\n\nconst centerText = {\n    textAlign: 'center'\n};\n\nconst updateProfileStyle = {\n    fontSize: '20px'\n};\n\nconst header = {\n    marginTop: '25px',\n}\n\nconst profileDisplayStyle = {\n    fontSize: '16px'\n};\n\nconst initialUpdateState = {\n    username: '',\n    email: '',\n    firstname: '',\n    lastname: '',\n    emailValid: false,\n    usernameValid: false,\n    validMessage: ''\n};\n\nconst initialProfileState = {\n    dbUsername: '',\n    dbEmail: '',\n    dbFirstname: '',\n    dbLastname: '',\n    isCurrentUser: false\n};\n\nclass UserProfile extends Component {\n    constructor(props) {\n        super(props)\n\n        //Listed twice as to not change the info on the profile when they begin updating it\n        this.state = { ...initialProfileState };\n    };\n\n    componentDidMount() {\n        const userID = this.props.match.params.userID;\n        this.getUserData(userID);\n        this.checkCurrentUser(userID);\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.match.params.userID !== prevProps.match.params.userID || this.props.userID !== prevProps.userID) {\n            const userID = this.props.match.params.userID;\n            this.getUserData(userID);\n            this.checkCurrentUser(userID);\n        };\n    };\n\n    checkCurrentUser = (userIDFromURL) => {\n        if (this.props.userID === userIDFromURL) {\n            this.setState({\n                isCurrentUser: true\n            })\n        };\n    };\n\n    updatedProfile = () => {\n        this.getUserData(this.props.match.params.userID);\n    };\n\n    getUserData = async (userID) => {\n        const dbResponse = await axios.get(`/api/getuserbyid/${userID}`);\n        if (dbResponse.status === 200) {\n            this.setState({\n                dbUsername: dbResponse.data.local.username,\n                dbEmail: dbResponse.data.local.email,\n                dbFirstname: dbResponse.data.local.firstname,\n                dbLastname: dbResponse.data.local.lastname,\n            });\n        };\n    };\n\n    render() {\n        const { isCurrentUser, dbUsername, dbEmail, dbFirstname, dbLastname } = this.state;\n\n        return (\n            <div style={centerText}>\n                <h1 style={header}>{dbUsername}'s Profile</h1>\n                <div style={profileDisplayStyle}>Username: {dbUsername}</div>\n                <div style={profileDisplayStyle}>Email: {dbEmail}</div>\n                <div style={profileDisplayStyle}>Firstname: {dbFirstname}</div>\n                <div style={profileDisplayStyle}>Lastname: {dbLastname}</div>\n\n                {/* If the user is the current user logged in they can update their profile here */}\n                {isCurrentUser &&\n                    <Fragment>\n                        <UpdateInformationForm userID={this.props.userID} updatedProfile={this.updatedProfile} />\n                        <br />\n                        <PasswordChangeForm />\n                    </Fragment>\n                }\n            </div>\n        );\n    };\n};\n\nclass UpdateInformationForm extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = { ...initialUpdateState };\n    };\n\n    handleSubmit = async (fieldSubmitted) => {\n\n        if (this.checkValidInput(fieldSubmitted)) {\n            const value = this.state[fieldSubmitted];\n            const userID = this.props.userID;\n            const request = fieldSubmitted;\n\n            const dbResponse = await axios.put(`/api/updateuser`, { userID, value, request });\n\n            if (dbResponse.status === 200) {\n                this.props.updatedProfile();\n                this.setState({ ...initialUpdateState });\n            };\n        };\n    };\n\n    handleChange = event => {\n        //Breaking this out due to the input validation\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({ [event.target.name]: event.target.value },\n            () => this.validateForm(name, value));\n\n    };\n\n    validateForm = (fieldName, value) => {\n        let validCheck;\n\n        switch (fieldName) {\n            case `email`:\n                let checkEmail = value.match(/^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n                validCheck = checkEmail ? true : false;\n                this.setState({ emailValid: validCheck });\n                break;\n            case `username`:\n                let checkUsername = value.match(/^([a-z0-9-_])+$/i);\n                let usernameLength = value.length >= 3 && value.length <= 16;\n                validCheck = checkUsername && usernameLength ? true : false;\n                this.setState({ usernameValid: validCheck });\n                break;\n            default:\n                break;\n        };\n    };\n\n    checkValidInput = (fieldSubmitted) => {\n        if (fieldSubmitted === 'email' && !this.state.emailValid) {\n            this.setState({ validMessage: `Email entered is invalid` });\n            return false;\n        };\n\n        if (fieldSubmitted === 'username' && !this.state.usernameValid) {\n            this.setState({ validMessage: `Please ensure username is between 3 & 16 characters & it only contains letters, numbers, underscores & dashes` });\n            return false;\n        };\n\n        return true;\n    };\n\n    render() {\n        const { username, email, firstname, lastname, validMessage } = this.state;\n\n        const usernameIsInvalid = username === '';\n        const emailIsInvalid = email === '';\n        const firstnameIsInvalid = firstname === '';\n        const lastnameIsInvalid = lastname === '';\n\n        return (\n            <div style={updateProfileStyle}>\n                {validMessage && <p>{validMessage}</p>}\n                <br />\n                <Label style={labelStyle}>\n                    Username:\n                </Label>\n                <Input\n                    style={inputStyle}\n                    type='text'\n                    name='username'\n                    placeholder='Update Username'\n                    value={username}\n                    onChange={this.handleChange} />\n                <Button\n                    color='primary'\n                    style={buttonStyle}\n                    disabled={usernameIsInvalid}\n                    onClick={() => this.handleSubmit('username')}>\n                    Update Username\n                </Button>\n\n                <br />\n\n                <Label style={labelStyle}>\n                    Email:\n                </Label>\n                <Input\n                    style={inputStyle}\n                    type='text'\n                    name='email'\n                    placeholder='Update Email'\n                    value={email}\n                    onChange={this.handleChange} />\n                <Button\n                    color='primary'\n                    style={buttonStyle}\n                    disabled={emailIsInvalid}\n                    onClick={() => this.handleSubmit('email')}>\n                    Update Email\n                </Button>\n\n                <br />\n\n                <Label style={labelStyle}>\n                    First Name:\n                </Label>\n                <Input\n                    style={inputStyle}\n                    type='text'\n                    name='firstname'\n                    placeholder='Update Firstname'\n                    value={firstname}\n                    onChange={this.handleChange}></Input>\n                <Button\n                    color='primary'\n                    style={buttonStyle}\n                    disabled={firstnameIsInvalid}\n                    onClick={() => this.handleSubmit('firstname')}>\n                    Update Firstname\n                </Button>\n\n                <br />\n\n                <Label style={labelStyle}>\n                    Last Name:\n                </Label>\n                <Input\n                    style={inputStyle}\n                    type='text'\n                    name='lastname'\n                    placeholder='Update Lastname'\n                    value={lastname}\n                    onChange={this.handleChange} />\n                <Button\n                    color='primary'\n                    style={buttonStyle}\n                    disabled={lastnameIsInvalid}\n                    onClick={() => this.handleSubmit('lastname')}>\n                    Update Lastname\n                </Button>\n                <hr />\n            </div >\n        );\n    };\n};\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(UserProfile);","import React, { Component } from 'react';\nimport { withAuthorization } from './Session';\nimport { Link } from 'react-router-dom';\nimport * as Routes from '../constants/routes';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\n\n//Using Swal to display message when group is created\nconst Alert = withReactContent(Swal);\n\nconst labelStyle = {\n    marginBottom: '0px'\n};\n\nconst initialState = {\n    groupName: '',\n    groupDescription: '',\n    error: null\n};\n\nconst navLinkStyle = {\n    fontSize: '25px',\n    color: 'white',\n    textDecoration: 'none',\n}\n\nconst formStyle = {\n    fontSize: '25px',\n    width: '50%',\n    textAlign: 'center',\n    margin: '0 auto'\n};\n\nconst inputSize = {\n    fontSize: '20px',\n};\n\nconst headerStyle = {\n    textAlign: 'center',\n    marginBottom: '25px'\n};\n\nconst descriptionStyle = {\n    fontSize: '20px',\n    height: '200px'\n};\n\n\nclass CreateGroup extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { ...initialState };\n    };\n\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        const currentUserID = this.props.userID;\n\n        const { groupName, groupDescription } = this.state;\n\n        const dbResponse = await axios.post(`/api/creategroup`, { currentUserID, groupName, groupDescription });\n\n        Alert.fire({\n            type: `success`,\n            title: `${groupName} Created!`,\n            text: `Taking you to the club page. Why don't you pick a book or add a user?`\n        });\n\n        this.props.history.push(`/group/${dbResponse.data._id}`);\n    };\n\n    render() {\n        const { groupName, groupDescription, error } = this.state;\n\n        const isInvalid = groupName === '' || groupDescription === '';\n\n        return (\n            <div>\n                <h2 style={headerStyle}>Create your group!</h2>\n                {/* If there's an error with sign in then display the error */}\n                {error && <p>{error.message}</p>}\n\n                <Form style={formStyle} onSubmit={this.handleSubmit}>\n                    <FormGroup>\n                        <Label style={labelStyle} htmlFor='groupName' for='text'> Group Name: </Label>\n                        <Input\n                            style={inputSize}\n                            type='text'\n                            name='groupName'\n\n                            placeholder='Enter A Group Name'\n                            value={this.state.groupName}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Label style={labelStyle} htmlFor='groupDescription' for='text'>Enter A Group Description: </Label>\n                        <Input\n                            style={descriptionStyle}\n                            type='textarea'\n                            name='groupDescription'\n                            placeholder='Description'\n                            value={this.state.groupDescription}\n                            onChange={this.handleChange}\n                        />\n                    </FormGroup>\n                    <Button\n                        color='primary'\n                        size='lg'\n                        disabled={isInvalid}\n                        type='submit'\n                    >Create New Group\n                    </Button>\n\n                </Form>\n            </div>\n\n\n        );\n    };\n};\n\nconst CreateGroupLink = () => (\n    <Link to={Routes.createGroup}>\n        <button style={navLinkStyle} className='btn btn-link'>Create Group</button>\n    </Link>\n);\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(CreateGroup);\n\nexport { CreateGroupLink };","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { Button, Form, FormGroup, Label, Input, } from 'reactstrap';\n\n//Using Swal to display messages when submit button is hit\nconst Alert = withReactContent(Swal);\n\nconst labelStyle = {\n    marginBottom: '0px'\n};\n\n\nconst formlabelStyle = {\n    fontSize: '25px'\n};\n\nconst forminputsize = {\n    fontSize: '20px'\n};\n\nclass UserSearch extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            userSearch: '',\n            error: null,\n            userArray: [],\n            searchSelect: ''\n        }\n    };\n\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        const { userSearch, searchSelect } = this.state;\n\n        const dbResponse = await axios.get(`/api/usersearch/${userSearch}/${searchSelect}`);\n\n        this.setState({ userArray: dbResponse.data });\n    }\n\n    render() {\n        const { userSearch, error, userArray, searchSelect } = this.state;\n        const isInvalid = userSearch === '' || searchSelect === '';\n\n        return (\n\n            <div>\n                {error && <p>{error}</p>}\n                <Form style={formlabelStyle} onSubmit={this.handleSubmit}>\n                    <FormGroup>\n                        <Label style={labelStyle} for=\"text\"> Search By:</Label>\n                        <Input style={forminputsize} type='select' name='searchSelect' id=\"searchSelection\" value={this.state.searchSelect}\n                            onChange={this.handleChange}>\n                            <option value=''> </option>\n                            <option value='email'>Email</option>\n                            <option value='username'>Username</option>\n                        </Input>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label style={labelStyle} htmlFor='userSearch' for=\"text\"> Search Users:</Label>\n                        <Input style={forminputsize} type='text' name='userSearch' id=\"exampleEmail\" placeholder='Search User' value={this.state.userSearch}\n                            onChange={this.handleChange} />\n                    </FormGroup>\n\n                    <Button color=\"secondary\" size=\"lg\" disabled={isInvalid}\n                        type='submit'>Search User</Button>\n                </Form>\n\n                {userArray && userArray.map((user, i) => <SingleUser user={user} key={i} isAdmin={this.props.isAdmin} groupID={this.props.groupID} updatePage={this.props.updatePage} />)}\n            </div>\n\n\n\n\n        )\n    }\n}\n\n//This component is going to have state to wrap the book in the submit and send it to the database\nclass SingleUser extends Component {\n\n    addUserToGroup = async (event) => {\n        const { isAdmin, groupID } = this.props;\n        const { userID, username } = this.props.user;\n        const dbResponse = await axios.put(`/api/addusertogroup`, { isAdmin, groupID, userID });\n\n        if (dbResponse.status === 200) {\n            Alert.fire({\n                type: 'success',\n                title: `${username} Added!`,\n                text: 'Sending you back to the club page'\n            });\n            this.props.updatePage(`main`);\n        };\n    };\n\n    // Taking out the book object to make displaying it easier\n    render() {\n        const { isAdmin } = this.props;\n        const { email, username } = this.props.user;\n\n        return (\n            <div className='userCard'>\n                <div>Email: {email}</div>\n                <div>Username: {username}</div>\n\n                {isAdmin && <button className='btn btn-primary' onClick={this.addUserToGroup}>Add User To Group</button>}\n            </div>\n        );\n    };\n};\n\nexport default UserSearch;","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst UserList = (props) => {\n    return (\n        <Fragment>\n            <h2 >Group Members</h2>\n            <div>\n                {props.userlist.map((user, i) => <Link to={`/user/${user._id}`} key={i}><SingleUser userID={user._id} key={user._id} /></Link>)}\n            </div>\n            <br />\n        </Fragment>\n    );\n};\n\nclass SingleUser extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            username: '',\n            error: null\n        };\n    };\n\n    componentDidMount = async () => {\n        const dbResponse = await axios.get(`/api/getuserbyid/${this.props.userID}`);\n        if (dbResponse.status === 200) {\n            this.setState({ username: dbResponse.data.local.username });\n        } else {\n            this.setState({ error: dbResponse.data });\n        };\n    };\n\n    render() {\n        return (\n            <div>{this.state.username}</div>\n        );\n    };\n};\n\n\n\nexport default UserList;","import React from 'react';\nimport { Button } from 'reactstrap';\n\nconst ButtonStyle = {\n    fontSize: '17px',\n};\n\nconst adminPanel = {\n    textAlign: 'center',\n    fontSize: '25px',\n    border: '1px solid grey',\n    padding: '10px',\n    marginBottom: '25px',\n    marginTop: '25px',\n    borderRadius: '5px'\n};\n\nconst GroupNav = (props) => {\n    return (\n        <div style={adminPanel} align='center' >\n            Admin Panel\n                <hr></hr>\n            <Button outline color='primary' style={ButtonStyle} onClick={() => props.updatePage('main')}>Show Club Page</Button>\n            <Button outline color='primary' style={ButtonStyle} onClick={() => props.updatePage('updateBook')}>Update Book</Button>\n            <Button outline color='primary' style={ButtonStyle} onClick={() => props.updatePage('addUser')}>Add User</Button>\n        </div>\n    )\n}\n\nexport default GroupNav;","import React, { Component, Fragment } from 'react';\nimport { withAuthorization } from '../Session';\nimport axios from 'axios';\n\nimport UserSearch from '../UserSearch';\nimport UserList from './UserList';\nimport GroupNav from './GroupNav';\nimport { Row, Col } from 'reactstrap';\n\n//Initializes all the data we need for the group as well as what should display on the app\nconst initialState = {\n  groupID: 0,\n  groupName: '',\n  groupDescription: '',\n  userlist: [],\n  isAdmin: false,\n  error: null,\n  showMainPage: true,\n  addUser: false\n};\n\nconst groupinfopanel = {\n  textAlign: 'center',\n  fontSize: '50px',\n\n  padding: '10px',\n  marginBottom: '30px'\n};\n\nconst columnbackground = {\n  fontSize: '30px',\n  padding: '10px',\n  marginBottom: '50px',\n  textAlign: 'center'\n};\n\nclass GroupPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...initialState };\n  }\n\n  componentDidMount() {\n    const groupIDFromURL = this.props.match.params.groupID;\n    if (typeof groupIDFromURL !== 'undefined') {\n      this.getGroupData(groupIDFromURL);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.userID !== prevProps.userID) {\n      const groupID = this.props.match.params.groupID;\n      this.getGroupData(groupID);\n    }\n  }\n\n  getGroupData = async groupID => {\n    const dbResponse = await axios.get(`/api/getgroupdata/${groupID}`);\n    if (dbResponse.status === 200) {\n      this.setState(\n        {\n          groupID: dbResponse.data._id,\n          groupName: dbResponse.data.name,\n          groupDescription: dbResponse.data.description,\n          userlist: dbResponse.data.userlist,\n        },\n        () => {\n          //If statement incase the componentDidMount happens first\n          if (this.props.userID) {\n            this.checkAdmin();\n          }\n        }\n      );\n    } else {\n      //TODO Check Error message\n      this.setState({\n        error: dbResponse.data.error\n      });\n    }\n  };\n\n  checkAdmin = () => {\n    const { userlist } = this.state;\n    const currentUserID = this.props.userID;\n\n    const currentUser = userlist.filter(user => user._id === currentUserID);\n    if (currentUser[0].isAdmin) {\n      this.setState({\n        isAdmin: true\n      });\n    }\n  };\n\n  //Toggles the page based on what the user chooses to see\n  updatePage = showPage => {\n    switch (showPage) {\n      case 'main':\n        this.setState({\n          showMainPage: true,\n          updateBook: false,\n          addUser: false\n        });\n        this.getGroupData(this.state.groupID);\n        break;\n      case 'updateBook':\n        this.setState({\n          showMainPage: false,\n          updateBook: true,\n          addUser: false\n        });\n        this.getGroupData(this.state.groupID);\n        break;\n      case 'addUser':\n        this.setState({\n          showMainPage: false,\n          updateBook: false,\n          addUser: true\n        });\n        this.getGroupData(this.state.groupID);\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { groupID, groupName, groupDescription, userlist, error, isAdmin, addUser } = this.state;\n\n    return (\n      <div>\n        <Row>\n          <Col xs='6'>\n            {error && <p>{error.message}</p>}\n            {isAdmin &&\n              <Row>\n                <Col xs='3' />\n                <Col xs='6'>\n                  <GroupNav updatePage={this.updatePage} />\n                </Col>\n                <Col xs='3' />\n              </Row>\n            }\n            <div style={columnbackground}>\n              <UserList userlist={userlist} />\n            </div>\n          </Col>\n\n          <Col xs='6'>\n            <div style={groupinfopanel}>\n              <GroupInfo\n                groupName={groupName}\n                groupDescription={groupDescription}\n              />\n            </div>\n\n            {addUser && (\n              <UserSearch\n                groupID={groupID}\n                isAdmin={isAdmin}\n                updatePage={this.updatePage}\n              />\n            )}\n          </Col>\n        </Row>\n      </div>\n    );\n  };\n};\n\nconst GroupInfo = props => {\n  return (\n    <Fragment>\n      <strong>{props.groupName}</strong>\n\n      <br />\n      <h3>{props.groupDescription}</h3>\n    </Fragment>\n  );\n};\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(GroupPage);\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\n//Using Swal to display messages when a row is clicked for a player\nconst Alert = withReactContent(Swal);\n\nclass DisplayPlayers extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            playersArray: [],\n            loading: true,\n            currentPlayer: {}\n        };\n    };\n\n    componentDidMount = async () => {\n        const dbResponse = await axios.get(`/api/displayplayers`);\n\n        if (dbResponse) {\n            this.setState({\n                playersArray: dbResponse.data,\n                loading: false\n            })\n        }\n    };\n\n    playerPopUp = (playerStats) => {\n        Alert.fire({\n            text: `Do you want to add ${playerStats.full_name} to your roster?`,\n            showCancelButton: true\n        })\n    }\n\n    render() {\n        const columns = [\n            { Header: 'Full Name', accessor: 'full_name', show: true },\n            { Header: 'Position', accessor: 'position', show: true },\n            { Header: 'Team', accessor: 'team.abbreviation', show: true }];\n\n        const { loading } = this.state;\n        return (\n            <div>\n\n                {/* TODO React Table Package might be good */}\n                <br />\n                {this.state.playersArray ? (\n                    <ReactTable\n                        data={this.state.playersArray}\n                        columns={columns}\n                        loading={loading}\n                        filterable\n                        defaultPageSize={20}\n                        className=\"-highlight\"\n                        getTdProps={(state, rowInfo) => {\n                            return {\n                                onClick: () => {\n                                    this.playerPopUp(rowInfo.original)\n                                    console.log('It was this mySportsId:', rowInfo.original)\n                                }\n                            }\n                        }}\n                    />\n                ) : (\n                        <div>\n                            Nothing\n                        </div>\n                    )}\n            </div>\n        )\n    }\n}\n\nexport default DisplayPlayers;","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Draggable } from 'react-beautiful-dnd';\n\n//TODO Get rid of this so I can get rid of styled-components.\n//I can just use normal styles and react conditional styling to achieve this\nconst Container = styled.div`\n    border: 1px solid lightgrey;\n    border-radius: 2px;\n    padding: 8px;\n    margin-bottom: 8px;\n    margin-right: 8px;\n    margin-left: 8px;\n    background-color: white;\n\n    background-color: ${props => (props.isDragging ? 'lightgreen' : 'white')}\n    `;\n// checks to see if the isDragging props is set to true. If it is, set it to lightgreen, otherwise keep it as white\n\nexport default class Player extends Component {\n    render() {\n        return (\n            <Draggable draggableId={this.props.player.mySportsId} index={this.props.index}>\n                {/*The snapshot gives a window into the current state of the draggable. It has isDragging and draggingOver */}\n                {(provided, snapshot) => (\n                    < Container\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        ref={provided.innerRef}\n                        // this passes the style of isDragging into the component\n                        isDragging={snapshot.isDragging}\n                    >\n                        {this.props.player.full_name}\n                    </Container>\n                )\n                }\n            </Draggable>\n        );\n    };\n};","import React, { Component } from 'react';\nimport Player from './Player';\nimport { Droppable } from 'react-beautiful-dnd';\nimport './rosterStyle.css';\n\n// The contiainer for the column should be display flex with a flex-direction or some other sort of growing box\n// This is to allow the column to grow with the drag and dropping\n\nclass PlayerList extends Component {\n    render() {\n        const { provided, innerRef, children, snapshot } = this.props;\n        return (\n            <div {...provided.droppableProps}\n                ref={innerRef}\n\n                // Passing down the snapshot into the actual div to color the background when it is dragged over\n                style={{\n                    transition: 'background-color 0.2s',\n                    backgroundColor: snapshot.isDraggingOver ? 'lightblue' : 'white',\n\n                    // Be sure to have the flexGrow in combination with the display flex and flex-direction above.\n                    // This will allow the lists to grow to the height of the column\n                    flexGrow: '1'\n                }}>\n                {children}\n            </div>\n        );\n    };\n};\n\nexport default class Column extends Component {\n    render() {\n        return (\n            <div className='columnStyle'>\n                <h3 className='title'>\n                    {this.props.column.title}\n                </h3>\n                <Droppable droppableId={this.props.column.id}>\n                    {/* Snapshot is what you get when interacting with a DroppableThis has keys, including isDragging and draggingOver & draggingOverWith */}\n                    {/* TODO: Possibly use draggingOverWith to key in when people try and drag over player they aren't suppossed to */}\n                    {(provided, snapshot) => (\n                        <PlayerList\n                            innerRef={provided.innerRef}\n                            provided={provided}\n                            snapshot={snapshot}\n                        >\n                            {this.props.roster.map((player, index) => (\n                                <Player key={player.mySportsId} player={player} index={index} provided={provided} innerRef={provided.innerRef} />\n                            ))}\n                            {provided.placeholder}\n                        </PlayerList>\n                    )}\n                </Droppable>\n            </div>\n        );\n    };\n};","import React, { Component } from 'react';\nimport { withAuthorization } from '../Session';\nimport axios from 'axios';\nimport { Label, Input, Container, Form, FormGroup, Button, Row, Col } from 'reactstrap';\n\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport Column from './Column';\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport './rosterStyle.css';\n\nconst Alert = withReactContent(Swal);\n\nclass Roster extends Component {\n    constructor(props) {\n        super(props);\n        //Must set state hard here to ensure that it is loaded properly when the component unmounts and remounts\n        this.handleChange = this.handleChange.bind(this);\n        this.state = {\n            userRoster: {\n            },\n            columns: {\n                'userRoster': {\n                    id: 'userRoster',\n                    title: 'On Roster',\n                    playerIds: [] //These have the be the same as the keys above & the same as the mySportsId\n                },\n                'available': {\n                    id: 'available',\n                    title: 'Available',\n                    playerIds: []\n                },\n            },\n            //Able to order the columns\n            columnOrder: ['userRoster', 'available'],\n            positionSelect: `QB`, //This is the default value for the position search\n            weekSelect: 0,\n            seasonSelect: 0,\n            weekOnPage: 0, //The week and season are here when the player searches for their roster. This updates ONLY when the player actually refreshes their roster\n            seasonOnPage: ``,\n            currentUser: false,\n            dbReadyRoster: { //We populate this when we go to sort the user's roster. This is the way it's saved into the database\n                QB: 0,\n                RB1: 0,\n                RB2: 0,\n                WR1: 0,\n                WR2: 0,\n                Flex: 0,\n                TE: 0,\n                K: 0\n            }\n        };\n    };\n\n    componentDidMount() {\n        if (this.props.week !== 0 && this.props.season !== '') {\n            this.setState({ weekSelect: this.props.week, seasonSelect: this.props.season });\n            this.getRosterData(this.props.week, this.props.season);\n            this.checkCurrentUser();\n        };\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.season !== prevProps.season) { // season here because it's the last prop we pass in. Probably not the best way\n            this.setState({ weekSelect: this.props.week, seasonSelect: this.props.season });\n            this.getRosterData(this.props.week, this.props.season);\n            this.checkCurrentUser();\n        };\n    };\n\n    checkCurrentUser() {\n        if (this.props.userId === this.props.match.params.userId) {\n            this.setState({ currentUser: true });\n        } else {\n            this.setState({ currentUser: false });\n        };\n    };\n\n    //We define loading and done loading here to have swal pop ups whenever we are pulling in data so the user can't mess with data while it's in a loading state\n    loading() {\n        Alert.fire({\n            title: 'Loading',\n            text: 'Loading available players',\n            imageUrl: 'https://media.giphy.com/media/3o7aDczpCChShEG27S/giphy.gif',\n            imageWidth: 200,\n            imageHeight: 200,\n            imageAlt: 'Loading Football',\n            showConfirmButton: false,\n            showCancelButton: false\n        });\n    };\n    doneLoading() {\n        Alert.close()\n    };\n\n    clearPlayers = () => {\n        //Gets rid of all the players that are sitting in state when the user goes to another week\n        let { userRoster, columns } = this.state;\n\n        columns.userRoster.playerIds = [];\n        columns.available.playerIds = [];\n        userRoster = {};\n\n        this.setState({ userRoster, columns });\n    };\n\n    getRosterData = (week, season) => {\n\n        this.loading();\n        this.setState({ weekOnPage: week, seasonOnPage: season })\n        //We want to go and grab the roster no matter what\n        //This is in case another user comes to the profile and wants to view their picks\n        //We pass in a params along with the API call stating if this is the current user or not\n        if (this.props.week !== 0 && this.props.season !== ``) {\n            //Inside here after the current roster is hit, then go in and pull the other data\n            //Make the pull available players easily hit from other places as well, since I want a dropdown that defaults to this week\n            //But can be changed in case people want to update more than just this week at once.\n            axios.get(`/api/userroster/${this.props.match.params.userId}`,\n                { params: { week, season } })\n                .then(res => {\n                    let columns = { ...this.state.columns };\n                    //We need to make a copy of the columns object and update it\n                    //React doesn't like us updating nested state otherwise\n                    columns.userRoster.playerIds = res.data.playerArray;\n                    delete res.data.playerArray;\n\n                    //Save what we got from the database into state\n                    this.setState({ userRoster: res.data, columns });\n                    this.doneLoading();\n\n                }).catch(err => {\n                    console.log(`roster data error`, err.response.data); //TODO better error handling\n                });\n        };\n    };\n\n    //This is to check if the player has too many of a certain position on their roster\n    countRoster = (originalRoster) => {\n        const userRoster = this.state.columns.userRoster.playerIds;\n        let QBCount = 0;\n        let RBCount = 0;\n        let WRCount = 0;\n        let TECount = 0;\n        let KCount = 0;\n\n        //We then go through the current user roster and populate it with data to sort it and get all the players\n        for (let i = 0; i < userRoster.length; i++) {\n            const position = this.state.userRoster[userRoster[i]].position;\n            //For the RB And WR positions, there are three options each they can be in\n            //RB/WR 1 & 2 as well as a flex position. All of which are undefined because we cannot have duplicate keys in an object\n            //We use a switch statement for WR and RB and start pulling the data into the fake roster\n            if (position === `RB`) {\n                RBCount++;\n            } else if (position === `WR`) {\n                WRCount++;\n            } else if (position === `QB`) {\n                QBCount++;\n            } else if (position === `TE`) {\n                TECount++;\n            } else if (position === `K`) {\n                KCount++;\n            };\n        };\n\n        //Checks if any positions have too many on the roster then feed the data into the function to handle this\n        //Probably a bettwe way to do this, but unsure of how.\n        //Also need to feed in the originalRoster in case the player cancels out and we are to reload the original state\n        if (QBCount > 1) {\n            this.tooManyPlayers(originalRoster, userRoster, `QB`, QBCount);\n            return false; //Return false here because we are splitting and handling this with the tooManyPlayers and no longer need to save it in the onDragEnd\n        } else if (WRCount > 3) {\n            this.tooManyPlayers(originalRoster, userRoster, `WR`, WRCount);\n            return false;\n        } else if (RBCount > 3) {\n            this.tooManyPlayers(originalRoster, userRoster, `RB`, RBCount);\n            return false;\n        } else if (RBCount + WRCount > 5) {\n            //Here we want the WR or RB to be over three. If they already have 3 on their roster, it means that one is already in their flex\n            //If they only have two then they can sub one of the other positions and put it in their flex\n            this.tooManyPlayers(originalRoster, userRoster, `Flex`);\n            return false;\n        } else if (TECount > 1) {\n            this.tooManyPlayers(originalRoster, userRoster, `TE`, TECount);\n            return false;\n        } else if (KCount > 1) {\n            this.tooManyPlayers(originalRoster, userRoster, `K`, KCount);\n            return false;\n        };\n        return true;\n    };\n\n    tooManyPlayers = async (originalRoster, roster, position, count) => {\n        //Pull out all the players for the position that has too many in it right now\n        let filteredRoster = [];\n        if (position === `Flex`) {\n            //If the position is flex, that means there are two of the current position and they can either swap it for RB or console.warn();\n            filteredRoster = roster.filter(player => this.state.userRoster[player].position === `RB` || this.state.userRoster[player].position === `WR`);\n        } else {\n            filteredRoster = roster.filter(player => this.state.userRoster[player].position === position);\n        };\n\n        //Iterate over the filtered array and get the full data for the players to give the user a choice\n        //We need it in this format so swal will properly list the options\n        const fullPlayers = {};\n\n        for (let i = 0; i < filteredRoster.length; i++) {\n            //First we have to initialize the object because of the bracket notation\n            fullPlayers[filteredRoster[i]] = {};\n            //THen we populate the full name from the state to give the player the chance to pick between the one they just added and the player on their roster\n            fullPlayers[filteredRoster[i]] = this.state.userRoster[filteredRoster[i]].full_name;\n        };\n\n        //chosenPlayer === the player the user would like to be dropped\n        const { value: chosenPlayer } = await Alert.fire({\n            title: `Too many ${position}s`,\n            input: `select`,\n            inputPlaceholder: `Which player do you want to drop?`,\n            inputOptions: fullPlayers,\n            showCancelButton: true,\n        });\n\n        //If the player responded with the player they would like to drop then we will take them out of their current array and then set the new state\n        if (chosenPlayer) {\n\n            //We need to make a copy of the columns object and update it\n            //React doesn't like us updating nested state otherwise\n            const columns = this.state.columns;\n            //Remove the player they chose from the array and then save it down into state\n            const playerIndex = columns.userRoster.playerIds.indexOf(parseInt(chosenPlayer));\n            columns.userRoster.playerIds.splice(playerIndex, 1);\n            //Add the player they dropped back to the available list of players\n            if (this.state.userRoster[chosenPlayer].position === this.state.positionSelect) {\n                columns.available.playerIds.unshift(chosenPlayer);\n            };\n\n            //Now we make one final check before moving things along. If everything is done right above this should be simple.\n            const checkRoster = await this.checkRoster(columns.userRoster.playerIds);\n\n            //If the check failed, then we will have an issue and are going to revert the state back to the previous point\n            if (checkRoster) {\n                //We take the array of player IDs that are on the user roster and sort them\n                columns.userRoster.playerIds = await this.sortRoster(columns.userRoster.playerIds);\n\n                //Here we feed the new sorted array along with the player to be deleted from the old array. The state is updated in the sortRoster function\n                //We need to new array to get the new player added and the old player so we can pull them out of the usedPlayersArray in the DB\n                this.saveRosterToDb(this.state.dbReadyRoster, chosenPlayer, false);\n\n                this.setState({ columns });\n            } else {\n                Alert.fire({\n                    type: 'warning',\n                    title: 'Roster Save Error!',\n                    text: 'Something went wrong with saving your roster! Please refresh and try again',\n                    confirmButtonColor: '#3085d6',\n                    confirmButtonText: 'Take me back'\n                });\n                this.setState({ columns: originalRoster });\n            };\n        } else if (chosenPlayer === undefined) {\n            //This is if the player has chosen to cancel out of the box above. We reload the old state to remove the player they just added\n            this.setState({ columns: originalRoster });\n        } else {\n            //This is if the player doesn't select one of the players and just presses accept\n            await Alert.fire(`You must pick one or cancel`)\n            this.tooManyPlayers(originalRoster, roster, position, count);\n        };\n    };\n\n    checkRoster = (roster) => {\n        //This is a true false check to verify the roster data before saving it to the database\n        let response = true;\n        let QBCount = 0;\n        let RBCount = 0;\n        let WRCount = 0;\n        let TECount = 0;\n        let KCount = 0;\n\n        //We then go through the current user roster and populate it with data to sort it and get all the players\n        for (let i = 0; i < roster.length; i++) {\n            const position = this.state.userRoster[roster[i]].position;\n            //For the RB And WR positions, there are three options each they can be in\n            //RB/WR 1 & 2 as well as a flex position. All of which are undefined because we cannot have duplicate keys in an object\n            //We use a switch statement for WR and RB and start pulling the data into the fake roster\n            if (position === `RB`) {\n                RBCount++;\n            } else if (position === `WR`) {\n                WRCount++;\n            } else if (position === `QB`) {\n                QBCount++;\n            } else if (position === `TE`) {\n                TECount++;\n            } else if (position === `K`) {\n                KCount++;\n            };\n        };\n\n        //This checks if the player has too many of any one position or if their overall roster is over 8\n        if (QBCount > 1 || RBCount > 3 || WRCount > 3 || (RBCount + WRCount) > 5 || TECount > 1 || KCount > 1 || roster.length > 8) {\n            response = false;\n        };\n\n        return response;\n    };\n\n    sortRoster = (roster) => {\n        //We want to organize the roster here to be as follows: QB, RB1, RB2, WR1, WR2, Flex, TE, K\n        //Takes the array of players and iterates over them, creating a new sorted array\n        const sortedRoster = [0, 0, 0, 0, 0, 0, 0, 0];\n\n        //While we are sorting the roster we are also getting the object ready to be stored in the database\n        //This sortRoster will be run before we ever go to save anything into the DB so it should populate the state correctly when we go to put it in\n        const dbReadyRoster = {}; //It's saved as an object in the database\n\n        //Here we iterate through the roster of the player and put them into an object for the order we want\n        for (const player of roster) {\n            const position = this.state.userRoster[player].position\n            //If the position is QB, TE, or K then we can just put them directly in\n            if (position === `QB`) {\n                sortedRoster[0] = player;\n                dbReadyRoster.QB = player;\n                //If it's RB or WR then we need to assign it manually to the 1, 2 and flex spots\n                //First we need to check the RB/WR 1 & 2 spots then assign it into the flex spot\n            } else if (position === `RB`) {\n                if (sortedRoster[1] === 0) {\n                    sortedRoster[1] = player;\n                    dbReadyRoster.RB1 = player;\n                } else if (sortedRoster[2] === 0) {\n                    sortedRoster[2] = player;\n                    dbReadyRoster.RB2 = player;\n                } else if (sortedRoster[5] === 0) {\n                    sortedRoster[5] = player;\n                    dbReadyRoster.Flex = player;\n                }\n            } else if (position === `WR`) {\n                if (sortedRoster[3] === 0) {\n                    sortedRoster[3] = player;\n                    dbReadyRoster.WR1 = player;\n                } else if (sortedRoster[4] === 0) {\n                    sortedRoster[4] = player;\n                    dbReadyRoster.WR2 = player;\n                } else if (sortedRoster[5] === 0) {\n                    sortedRoster[5] = player;\n                    dbReadyRoster.Flex = player;\n                };\n            } else if (position === `TE`) {\n                sortedRoster[6] = player;\n                dbReadyRoster.TE = player;\n            } else if (position === `K`) {\n                sortedRoster[7] = player;\n                dbReadyRoster.K = player;\n            };\n        };\n\n        const sortedNoDummyData = sortedRoster.filter(id => id !== 0);\n\n        this.setState({ dbReadyRoster });\n\n        //Until testing is complete, just send back the same roster\n        return sortedNoDummyData;\n    };\n\n    saveRosterToDb = async (dbReadyRoster, droppedPlayer, saveWithNoDrop) => {\n        //This will not always have a chosenPlayer because if the user is reorganizing the players currently on their roster it will not have a player to be dropped\n        //The saveWithNoDrop var is if the user has a blank week roster, it ensures we save it to the usedPlayerArray because we will be feeding droppedPlayer of 0\n        axios.put(`/api/updateUserRoster`,\n            { userId: this.props.userId, dbReadyRoster, droppedPlayer, week: this.state.weekSelect, season: this.state.seasonSelect, saveWithNoDrop })\n            .then(res => {\n                return\n            }).catch(err => {\n                console.log(err)//TODO Better error handling\n            });\n    };\n\n    checkLockPeriod = async () => {\n        const response = await axios.get(`/api/checkLockPeriod`);\n\n        console.log(response.data.lockWeek);\n        //If this week is already passed the lock date then return bad request\n        if (this.state.weekOnPage <= response.data.lockWeek) {\n            return false;\n        };\n\n        //TODO Maybe make this a loop to iterate over many years or back out last year\n        if (this.state.seasonOnPage === response.data.lockYear) {\n            return false;\n        };\n\n        //If the week and the season are not locked then we can return true, that the week they are trying to edit is not locked\n        return true;\n    };\n\n    onDragEnd = async result => {\n        const { destination, source, draggableId } = result;\n        //If the drag was cancelled then back out of this\n        if (!destination) {\n            return;\n        };\n\n        //If the destination of the drag was the same as the start then back out of onDragEnd\n        if (destination.droppableId === source.droppableId && destination.index === source.index) {\n            return;\n        };\n\n        //Check if the peroid the user is trying to change is locked\n        const isLocked = await this.checkLockPeriod();\n        if (!isLocked) {\n            Alert.fire({\n                title: `Peroid is locked!`,\n                type: `warning`,\n                text: `Week ${this.state.weekOnPage} is locked. Please search a different week`,\n            });\n            return;\n        }\n\n        if (!this.state.currentUser) {\n            Alert.fire({\n                title: `Not your roster!`,\n                type: `warning`,\n            });\n            return;\n        }\n\n        //Get the column out of the state so we don't mutate the state\n        //Must be the start and finish since there is a chance that we are moving between two columns\n        //Start and finish is where the drag started and where it finishes\n        const start = this.state.columns[source.droppableId];\n        const finish = this.state.columns[destination.droppableId];\n\n        // If we are not changing columns, only reordering within the columns then we can reorganize the list in the order the user wants\n        if (start === finish) {\n\n            //Make an array with the same contents as the old array\n            let newPlayerIds = Array.from(start.playerIds);\n            //Now move the player ID from its old index to its new index\n            newPlayerIds.splice(source.index, 1);\n            //Start at the destination index, remove nothing and insert the draggableId in that spot\n            newPlayerIds.splice(destination.index, 0, draggableId);\n\n            if (source.droppableId === `userRoster`) { //Really you can use either source or destination here\n                //If user is changing their roster, sort it to make sure it stays in the order we want it in (QB, RB, WR, Flex, TE, K)\n                newPlayerIds = await this.sortRoster(newPlayerIds);\n                await this.saveRosterToDb(this.state.dbReadyRoster, 0, false);\n            };\n\n            //Create a new column which has the same properites as the old column but with the newPlayerIds array\n            const newColumn = {\n                ...start,\n                playerIds: newPlayerIds\n            };\n\n            //Now put this into a new picture of the state\n            //Using spread to keep the references and updating the parts we want to change\n            const newState = {\n                ...this.state,\n                columns: {\n                    ...this.state.columns,\n                    //Now insert the new column\n                    [newColumn.id]: newColumn\n                },\n            };\n\n            //Now push the changes to the state\n            this.setState(newState);\n\n            return;\n        };\n\n        // Moving from one column to another\n        const startNewPlayerIds = Array.from(start.playerIds);\n        //Remove the dragged player Id from this array\n        startNewPlayerIds.splice(source.index, 1);\n        //Create a new start column that contains the new properties as the old column but with the new start player Ids array\n        const newStart = {\n            ...start,\n            playerIds: startNewPlayerIds\n        };\n\n        //Creating a new array for the dropped column that contains the same Ids as the finished player array\n        const finishPlayerIds = Array.from(finish.playerIds);\n        //Splice in the dropped player into the array\n        finishPlayerIds.splice(destination.index, 0, draggableId);\n        const newFinish = {\n            ...finish,\n            playerIds: finishPlayerIds\n        };\n\n        const newState = {\n            ...this.state,\n            columns: {\n                //Update the columns in the state object\n                ...this.state.columns,\n                //Specifically only overwrite the start and finish column.\n                //If there are more than two on the screen we only want to overwrite what has been dragged and dropped\n                [newStart.id]: newStart,\n                [newFinish.id]: newFinish\n            }\n        };\n\n        //Saving a copy of the old state to revert it if the player wants to disregard the player they just added\n        const originalRoster = this.state.columns;\n\n        //We first wait until the state has been pushed to ensure we are capturing the players the user wants to add.\n        this.setState(newState);\n\n        //Then we check if the added player can fit in the roster and if we need to drop a current player\n        //Pass through the original roster if the player decides they want to cancel out\n        const needToSave = this.countRoster(originalRoster);\n\n        const correctRoster = this.checkRoster(this.state.columns.userRoster.playerIds);\n\n        //If the roster is correct, and we need to save it down because it won't be saved through the countRoster (ie less than 8 players) then we push it through\n        if (correctRoster && needToSave) {\n            const sortedRoster = this.sortRoster(this.state.columns.userRoster.playerIds);\n\n            //Save the new sorted roster down to the state to ensure it's sorted\n            const columns = this.state.columns;\n            columns.userRoster.playerIds = sortedRoster;\n            this.setState({ columns });\n\n            //Checks if we are moving a player from the On Roster Column to the Available column\n            if (destination.droppableId === `available`) {\n                //TODO WHERE DOES THIS TRY AND SAVE\n                this.saveRosterToDb(this.state.dbReadyRoster, draggableId, false);\n            } else {\n                //Is a 0 here because if they added a player earlier to the DB that would have already been picked up by countRoster\n                //The true is to indicate we need to save a player down without dropping one in the usedPlayer array in the DB\n                this.saveRosterToDb(this.state.dbReadyRoster, 0, true);\n            }\n        };\n    };\n\n    //This triggers off the Form on the roster below that allows the user to search for the position they would like to add to their roster\n    positionSearch = (e) => {\n        e.preventDefault();\n\n        this.loading();\n        const userId = this.props.userId;\n        axios.get(`/api/availablePlayers`,\n            { params: { userId, searchedPosition: this.state.positionSelect } })\n            .then(res => {\n                //What comes back is an array of objects for all the available players\n                //We need to first change the array of objects into just an array to put into the playerIds state\n                let columns = { ...this.state.columns };\n\n                columns.available.playerIds = res.data.idArray;\n                delete res.data.idArray;\n\n                const currentRoster = { ...this.state.userRoster, ...res.data }\n\n                this.setState({ userRoster: currentRoster, columns: columns });\n                this.doneLoading();\n            });\n    };\n\n    customSeasonWeekSearch = (e) => {\n        e.preventDefault();\n\n        //Need to clear the playerIds when switching weeks. If not the program makes the array an array of undefined\n        const columns = this.state.columns;\n        columns.userRoster.playerIds = [];\n        columns.available.playerIds = [];\n        this.setState({ columns })\n\n        this.getRosterData(this.state.weekSelect, this.state.seasonSelect);\n    };\n\n    //This is to handle the change for the Input Type in the position search below\n    handleChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    };\n\n    render() {\n        return (\n            <Container fluid={true} className='lineHeight'>\n                {/* Both of these in the top row need access to state */}\n                <Row className='topRow'>\n                    {/* TODO I want this to be a column next to the drag and drop until it is small screen, then pop up top */}\n                    <Col xs='6'>\n                        <Row>\n                            <Col xs='0' md='3' />\n                            <Col xs='12' md='6'>\n                                <div className='centerInput'>\n                                    <Form onSubmit={this.customSeasonWeekSearch}>\n                                        <FormGroup>\n                                            <div className='inputContainer'>\n                                                <Label for='seasonSelect'>Select Season</Label>\n                                                <Input value={this.state.seasonSelect} type='select' name='seasonSelect' id='seasonSelect' className='searchDropdown' onChange={this.handleChange}>\n                                                    <option>2019-2020-regular</option>\n                                                </Input>\n                                            </div>\n                                            <Button color='primary' type='submit' className='submitButton'>Search</Button>\n                                        </FormGroup>\n                                    </Form>\n                                </div>\n                            </Col>\n                            <Col xs='0' md='3' />\n                        </Row>\n                    </Col>\n                    <Col xs='6'>\n                        <Row>\n                            <Col xs='0' md='3' />\n                            <Col xs='12' md='6'>\n                                <Form onSubmit={this.customSeasonWeekSearch}>\n                                    <FormGroup>\n                                        <div className='inputContainer'>\n                                            <Label for='weekSelect'>Select Week</Label>\n                                            <Input value={this.state.weekSelect} type='select' name='weekSelect' id='weekSelect' className='searchDropdown' onChange={this.handleChange}>\n                                                <option>1</option>\n                                                <option>2</option>\n                                                <option>3</option>\n                                                <option>4</option>\n                                                <option>5</option>\n                                                <option>6</option>\n                                                <option>7</option>\n                                                <option>8</option>\n                                                <option>9</option>\n                                                <option>10</option>\n                                                <option>11</option>\n                                                <option>12</option>\n                                                <option>13</option>\n                                                <option>14</option>\n                                                <option>15</option>\n                                                <option>16</option>\n                                                <option>17</option>\n                                            </Input>\n                                        </div>\n                                        <Button color='primary' type='submit' className='submitButton'>Search</Button>\n                                    </FormGroup>\n                                </Form>\n                            </Col>\n                            <Col xs='0' md='3' />\n                        </Row>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col xs='4'></Col>\n                    <Col xs='4'>\n                        <div className='selectContainer'>\n                            <Form onSubmit={this.positionSearch}>\n                                <FormGroup>\n                                    <Label for='positionSelect'>Search Available Players</Label>\n                                    <div className='shiftInputAndSubmit'>\n                                        <div className='inputContainer'>\n                                            <Input type='select' name='positionSelect' id='positionSelect' className='searchDropdown' onChange={this.handleChange}>\n                                                <option>QB</option>\n                                                <option>RB</option>\n                                                <option>WR</option>\n                                                <option>TE</option>\n                                                <option>K</option>\n                                            </Input>\n                                        </div>\n                                        <Button color='primary' type='submit' className='submitButton'>Search</Button>\n                                    </div>\n                                </FormGroup>\n                            </Form>\n                        </div>\n                    </Col>\n                    <Col xs='4'></Col>\n                </Row>\n                <Row>\n                    <DragDropContext\n                        // These are callbacks for updating the drag when someone picks something up or drops it\n                        // Others are onDragStart and onDragUpdate. They can be used when people pick up the draggable or if they move it around\n                        onDragEnd={this.onDragEnd}\n                    >\n                        {/* Iterate through all the columns to then display as many columns as needed */}\n                        {this.state.columnOrder.map((columnId) => {\n                            const column = this.state.columns[columnId];\n                            //Iterate through all the players in the array of the column and then create an array of them all to show in a column\n                            const roster = column.playerIds.map(playerId => this.state.userRoster[playerId]);\n                            return (\n                                // this only has to be xs of 6 because there will only ever be two columns\n                                <Col xs='6' key={columnId}>\n                                    <Column key={column.id} column={column} roster={roster} className='playerColumn' />\n                                </Col>\n                            );\n                        })}\n                    </DragDropContext>\n                </Row>\n            </Container>\n        )\n    }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Roster);","import React, { Component } from 'react';\nimport { withAuthorization } from '../Session';\nimport axios from 'axios';\nimport { Button, Row, Col } from 'reactstrap';\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\nconst Alert = withReactContent(Swal);\n\nclass PlayerEditor extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    };\n\n    loading() {\n        Alert.fire({\n            title: 'Loading',\n            text: 'Working your request',\n            imageUrl: 'https://media.giphy.com/media/3o7aDczpCChShEG27S/giphy.gif',\n            imageWidth: 200,\n            imageHeight: 200,\n            imageAlt: 'Loading Football',\n            showConfirmButton: false,\n            showCancelButton: false\n        });\n    };\n    doneLoading() {\n        Alert.close()\n    };\n\n    updateNFLRoster = () => {\n        this.loading();\n        axios.get(`/api/updateTeams`).then(response => {\n            this.doneLoading();\n            console.log(response.data);\n        });\n\n    };\n\n    getMassData = () => {\n        Alert.fire({\n            type: `warning`,\n            title: `Are you sure?`,\n            text: `It will take a LONG time`,\n            showCancelButton: true,\n        }).then(async result => {\n            if (result.value) {\n                Alert.fire(`Success`, `This will be a while. Go play some games?`, `success`);\n                this.loading(); // This successfully updates the database but doneLoading doesn't work\n                const response = await axios.get(`/api/massplayerupdate`);\n                this.doneLoading();\n                console.log(response);\n            };\n        });\n    };\n\n    getWeeklyData = async () => {\n        this.loading();\n        try {\n            await axios.get(`/api/updatePlayers/${this.props.season}/${this.props.week}`);\n\n            this.doneLoading();\n        } catch (err) {\n            console.log(err)\n        };\n    };\n\n    render() {\n        return (\n            <Row>\n                <Col>\n                    <Button color='warning' onClick={this.getMassData}>\n                        Mass Update All Players\n                    </Button>\n                    <br />\n                    <br />\n                    <Button color='secondary' onClick={this.updateNFLRoster}>\n                        Update NFL Roster\n                    </Button>\n                    <br />\n                    <br />\n                    <Button color='secondary' onClick={this.getWeeklyData}>\n                        Update Get Weekly Data\n                    </Button>\n                </Col>\n            </Row>\n        );\n    };\n\n\n};\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(PlayerEditor);","import React, { Component } from 'react';\nimport { withAuthorization } from '../Session';\nimport axios from 'axios';\nimport { Input, Form, FormGroup, Button, Row, Col } from 'reactstrap';\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport ReactTable from 'react-table';\n\nimport 'react-table/react-table.css';\nimport './userEditorStyle.css';\n\nconst Alert = withReactContent(Swal);\n\nclass UserEditor extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedUser: ``,\n            userArray: [],\n            loading: true,\n            QB: 0,\n            RB1: 0,\n            RB2: 0,\n            WR1: 0,\n            WR2: 0,\n            Flex: 0,\n            TE: 0,\n            K: 0\n        };\n    };\n\n    componentDidMount() {\n        axios.get(`/api/getAllUsers`).then(res => {\n            this.setState({ loading: false, userArray: res.data });\n        });\n    };\n\n    loading() {\n        Alert.fire({\n            title: 'Loading',\n            text: 'Working your request',\n            imageUrl: 'https://media.giphy.com/media/3o7aDczpCChShEG27S/giphy.gif',\n            imageWidth: 200,\n            imageHeight: 200,\n            imageAlt: 'Loading Football',\n            showConfirmButton: false,\n            showCancelButton: false\n        });\n    };\n    doneLoading() {\n        Alert.close()\n    };\n\n    dummyRoster = async () => {\n        const dummyRoster = {\n            QB: this.state.QB,\n            RB1: this.state.RB1,\n            RB2: this.state.RB2,\n            WR1: this.state.WR1,\n            WR2: this.state.WR2,\n            Flex: this.state.Flex,\n            TE: this.state.TE,\n            K: this.state.K\n        };\n\n        await axios.put(`/api/dummyRoster/`,\n            { userId: this.state.selectedUser, season: this.props.season, week: this.props.week, dummyRoster })\n        this.setState({ QB: 0, RB1: 0, RB2: 0, WR1: 0, WR2: 0, Flex: 0, TE: 0, K: 0 })\n    };\n\n\n    //This is to handle the change for the Input Type in the position search below\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    };\n\n    selectUser = (id) => {\n        this.setState({ selectedUser: id })\n    };\n\n\n    render() {\n        return (\n            <div>\n                <SelectedUser selectedUser={this.state.selectedUser} />\n                <Row>\n                    <Col>\n                        <Form onSubmit={this.dummyRoster}>\n                            <FormGroup>\n                                <Row>\n                                    <Col sm='12' md='6'>\n                                        <div className='playerIdInput'>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    QB\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.QB} type='text' name='QB' id='QB' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    RB1\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.RB1} type='text' name='RB1' id='RB1' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    RB2\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.RB2} type='text' name='RB2' id='RB2' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    WR1\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.WR1} type='text' name='WR1' id='WR1' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    WR2\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.WR2} type='text' name='WR2' id='WR2' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    Flex\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.Flex} type='text' name='Flex' id='Flex' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    TE\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.TE} type='text' name='TE' id='TE' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                            <Row>\n                                                <Col sm='12' md='2' className='positionColumn'>\n                                                    K\n                                                </Col>\n                                                <Col sm='12' md='10'>\n                                                    <Input value={this.state.K} type='text' name='K' id='K' onChange={this.handleChange} />\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                    </Col>\n                                    <Col sm='12' md='6'>\n                                        {/* If the admin hasn't yet selected a user then they will not be allowed to view */}\n                                        <Button color='secondary' onClick={this.dummyRoster} disabled={!this.state.selectedUser} className='dummyRosterButton'>\n                                            Submit Dummy Roster\n                                        </Button>\n                                    </Col>\n                                </Row>\n                            </FormGroup>\n                        </Form>\n                    </Col>\n                </Row>\n                <UserTable userArray={this.state.userArray} loading={this.state.loading} selectUser={this.selectUser} />\n            </div>\n        );\n    };\n};\n\nconst SelectedUser = (props) => {\n    return (\n        <Row>\n            <Col xs='12'>\n                <div className='selectedUser'>\n                    Selected User: <Input value={props.selectedUser} type='text' disabled />\n                </div>\n            </Col>\n        </Row>\n    );\n};\n\nconst UserTable = (props) => {\n    return (\n        <Row>\n            <Col xs='12'>\n                <ReactTable\n                    data={props.userArray}\n                    columns={[\n                        { Header: 'Username', accessor: 'username', show: true },\n                        { Header: 'email', accessor: 'email', show: true },\n                        { Header: 'Id', accessor: '_id', show: true }\n                    ]}\n                    loading={props.loading}\n                    filterable\n                    defaultPageSize={20}\n                    className=\"-highlight\"\n                    getTdProps={(state, rowInfo) => {\n                        return {\n                            onClick: () => {\n                                props.selectUser(rowInfo.original._id);\n                            }\n                        };\n                    }}\n                />\n            </Col>\n        </Row>\n    );\n};\n\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(UserEditor);\n\n//These should really be taken together since they're used together\nexport { UserTable, SelectedUser };","import React, { Component } from 'react';\nimport { withAuthorization } from '../Session';\nimport { Label, Input, Container, Button, Row, Col } from 'reactstrap';\n\nimport PlayerEditor from './PlayerEditor';\nimport UserEditor from './UserEditor';\n\nclass AdminPanel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            userEditor: false,\n            playerEditor: false,\n            weekSelect: 0,\n            seasonSelect: ``\n        };\n    };\n\n    componentDidUpdate(prevProps) {\n        if (this.props.season !== prevProps.season) { // season here because it's the last prop we pass in. Probably not the best way\n            this.setState({ weekSelect: this.props.week, seasonSelect: this.props.season });\n        };\n    };\n\n    componentDidMount() {\n        if (typeof this.props.season !== `undefined`) {\n            this.setState({ seasonSelect: this.props.season });\n        };\n        if (typeof this.props.week !== `undefined`) {\n            this.setState({ weekSelect: this.props.week });\n        };\n    };\n\n    showPlayerEditor = () => {\n        this.setState({ playerEditor: true, userEditor: false })\n    };\n\n    showUserEditor = () => {\n        this.setState({ playerEditor: false, userEditor: true })\n    };\n\n    //This is to handle the change for the Input Type in the position search below\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    };\n\n    render() {\n        const { playerEditor, userEditor } = this.state;\n\n        return (\n            <Container fluid={true}>\n                <Row>\n                    <Col sm='12' md='3'>\n                        <Label for='seasonSelect'>Select Season</Label>\n                        <Input value={this.state.seasonSelect} type='select' name='seasonSelect' id='seasonSelect' onChange={this.handleChange}>\n                            <option>2018-2019-regular</option>\n                            <option>2019-2020-regular</option>\n                        </Input>\n                        <Label for='weekSelect'>Select Week</Label>\n                        <Input value={this.state.weekSelect} type='select' name='weekSelect' id='weekSelect' onChange={this.handleChange}>\n                            <option>1</option>\n                            <option>2</option>\n                            <option>3</option>\n                            <option>4</option>\n                            <option>5</option>\n                            <option>6</option>\n                            <option>7</option>\n                            <option>8</option>\n                            <option>9</option>\n                            <option>10</option>\n                            <option>11</option>\n                            <option>12</option>\n                            <option>13</option>\n                            <option>14</option>\n                            <option>15</option>\n                            <option>16</option>\n                            <option>17</option>\n                        </Input>\n                        <br />\n                        <br />\n                        <Button color='primary' onClick={this.showPlayerEditor}>Player Editor</Button>\n                        <br />\n                        <br />\n                        <Button color='primary' onClick={this.showUserEditor}>User Editor</Button>\n                    </Col>\n                    <Col sm='12' md='9'>\n                        {playerEditor &&\n                            <PlayerEditor week={this.state.weekSelect} season={this.state.seasonSelect} />\n                        }\n                        {userEditor &&\n                            <UserEditor week={this.state.weekSelect} season={this.state.seasonSelect} />\n                        }\n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n}\n\n// TODO Add a check here to make sure that the user is an admin\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(AdminPanel);","import React, { Component } from 'react';\nimport { withAuthorization } from '../Session';\nimport axios from 'axios';\nimport { Container, Button, Row, Col } from 'reactstrap';\nimport { UserTable, SelectedUser } from './UserEditor';\n\nimport './upgradeToAdmin.css';\n\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\n//Using Swal to display messages when add book button is hit\nconst Alert = withReactContent(Swal);\n\nclass UpgradeToAdmin extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedUser: ``,\n            userArray: [],\n            loading: true,\n        };\n    };\n\n    componentDidMount() {\n        axios.get(`/api/getAllUsers`).then(res => {\n            this.setState({ loading: false, userArray: res.data });\n        });\n    };\n\n    selectUser = (id) => {\n        this.setState({ selectedUser: id })\n    };\n\n    upgradeToAdmin = async () => {\n        const serverResponse = await axios.put(`/api/updateUserToAdmin/${this.state.selectedUser}`);\n        Alert.fire({\n            type: 'success',\n            text: serverResponse.data\n        });\n    };\n\n    render() {\n        return (\n            <Container fluid={true}>\n                <Row>\n                    <Col xs='12' className='upgradeCol'>\n                        what the fuck\n                        <SelectedUser selectedUser={this.state.selectedUser} />\n                        <Button className='adminButton' onClick={this.upgradeToAdmin} disabled={!this.state.selectedUser} >Upgrade to Admin</Button>\n                        <UserTable userArray={this.state.userArray} loading={this.state.loading} selectUser={this.selectUser} />\n                    </Col>\n                </Row>\n            </Container>\n        );\n    };\n};\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(UpgradeToAdmin);","import React, { Component } from 'react';\nimport * as Routes from './constants/routes';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport { withFirebase } from './componenets/Firebase';\nimport axios from 'axios';\n\n// Components\nimport SignUpPage from './componenets/SignUp';\nimport SignInPage from './componenets/SignIn';\nimport NavBar from './componenets/NavBar';\nimport Home from './componenets/Home';\nimport PasswordReset from './componenets/PasswordReset';\nimport PasswordChange from './componenets/PasswordChange';\nimport UserProfile from './componenets/UserProfile';\nimport CreateGroup from './componenets/CreateGroup';\nimport GroupPage from './componenets/GroupPage';\nimport DisplayPlayers from './componenets/DisplayPlayers';\nimport Roster from './componenets/Roster';\nimport AdminPanel from './componenets/AdminPanel';\nimport UpgradeToAdmin from './componenets/AdminPanel/UpgradeToAdmin'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      authUser: null,\n      currentUser: {},\n      currentWeek: 0,\n      currentSeason: ``\n    }\n\n  };\n\n  componentDidMount() {\n    this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        this.setState({ authUser });\n        this.isSignedIn(authUser.email);\n      } else {\n        this.setState({ authUser: null, currentUser: {} });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.listener();\n  };\n\n  isSignedIn = async (email) => {\n    const dbResponse = await axios.get(`/api/getUser/${email}`);\n    const currentUser = {\n      username: dbResponse.data.local.username,\n      userId: dbResponse.data._id,\n      isAdmin: dbResponse.data.isAdmin\n    }\n    this.setState({ currentUser });\n    this.getSeasonAndWeek();\n  };\n\n  getSeasonAndWeek = async () => {\n    const seasonAndWeek = await axios.get(`/api/currentSeasonAndWeek`);\n    this.setState({ currentSeason: seasonAndWeek.data.season, currentWeek: seasonAndWeek.data.week })\n  };\n\n  render() {\n\n    return (\n\n      <BrowserRouter>\n\n        <div>\n          <NavBar authUser={this.state.authUser} />\n          {/* Routes to different components */}\n          <Route\n            exact path={Routes.home}\n            render={() =>\n              <Home\n                userId={this.state.currentUser.userId}\n                isAdmin={this.state.currentUser.isAdmin}\n                week={this.state.currentWeek}\n                season={this.state.currentSeason} />} />\n          <Route\n            path={Routes.adminPanel}\n            render={() =>\n              <AdminPanel\n                week={this.state.currentWeek}\n                season={this.state.currentSeason} />}\n          />\n          <Route\n            path={Routes.signin}\n            render={() =>\n              <SignInPage />}\n          />\n          <Route\n            path={Routes.signup}\n            render={() =>\n              <SignUpPage />}\n          />\n          <Route\n            path={Routes.passwordReset}\n            render={() =>\n              <PasswordReset />}\n          />\n          <Route\n            path={Routes.passwordChange}\n            render={() =>\n              <PasswordChange />}\n          />\n          <Route\n            path={Routes.userProfile}\n            render={() =>\n              <UserProfile />}\n          />\n          <Route\n            path={Routes.createGroup}\n            render={() =>\n              <CreateGroup\n                userID={this.state.currentUser.userID} />}\n          />\n          <Route\n            path={`/group/:groupID`}\n            render={() =>\n              <GroupPage\n                userID={this.state.currentUser.userID} />}\n          />\n          <Route\n            path={`/displayplayers`}\n            render={() =>\n              <DisplayPlayers />\n            }\n          />\n          <Route\n            path={Routes.roster}\n            render={props =>\n              <Roster\n                {...props}\n                userId={this.state.currentUser.userId}\n                week={this.state.currentWeek}\n                season={this.state.currentSeason} />\n            }\n          />\n          <Route\n            path={Routes.upgradeToAdmin}\n            render={() =>\n              <UpgradeToAdmin />}\n          />\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default withFirebase(App);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport Firebase, { FirebaseContext } from './componenets/Firebase';\nimport 'bootstrap/dist/css/bootstrap.css';\nReactDOM.render( \n\t<FirebaseContext.Provider value={new Firebase()}>\n\t\t<App />\n\t</FirebaseContext.Provider>,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}